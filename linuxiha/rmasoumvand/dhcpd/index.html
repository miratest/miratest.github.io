<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>راه اندازی DHCP Server در لینوکس - آموزش لینوکس</title>
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/mira.png">

    <!-- Bootstrap -->
    <link href="/static/theme/maira/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/theme/maira/css/maira.css" rel="stylesheet">

    <link href="/static/theme/maira/css/font-awesome.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v10.0.0-beta/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/shabnam-font/v1.1.0/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/sahel-font/v1.0.0-alpha9/dist/font-face.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <nav class="navbar navbar-default navbar-transparent navbar-fixed-top navbar-burger" color-on-scroll="200">
        <!-- if you want to keep the navbar hidden you can add this class to the navbar "navbar-burger"-->
        <div class="container">
            <div class="navbar-header">
                <button id="menu-toggle" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar bar1"></span>
                    <span class="icon-bar bar2"></span>
                    <span class="icon-bar bar3"></span>
                </button>
                <a href="/linuxiha" class="navbar-brand">
                    آموزش لینوکس
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right navbar-uppercase">
                    
                    <li class="dropdown rtl">
                        <a href="#author" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            author
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/linuxiha/author/farbodgame/">farbodgame</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/author/MrNull/">MrNull</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/author/rmasoumvand/">rmasoumvand</a>
                            </li>
                        
                        </ul>
                    </li>
                        
                    <li class="dropdown rtl">
                        <a href="#categories" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            categories
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/linuxiha/categories/vim/">vim</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/categories/آموزشی/">آموزشی</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/categories/ترمینال/">ترمینال</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/categories/سرور/">سرور</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/categories/شبکه/">شبکه</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/categories/شخصی‌سازی/">شخصی‌سازی</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/categories/پیکربندی/">پیکربندی</a>
                            </li>
                        
                        </ul>
                    </li>
                        
                    <li class="dropdown rtl">
                        <a href="#jdate" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            آرشیو زمانی
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/linuxiha/archive/1395/05/">مرداد ۱۳۹۵</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/archive/1395/06/">شهریور ۱۳۹۵</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/archive/1395/07/">مهر ۱۳۹۵</a>
                            </li>
                        
                        </ul>
                    </li>
                        
                    <li class="dropdown rtl">
                        <a href="#tags" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            tags
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/linuxiha/tags/asciinema/">asciinema</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/btrfs/">btrfs</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/btrfs-لینوکس/">btrfs لینوکس</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/dhcp/">dhcp</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/dhcp-لینوکس/">dhcp لینوکس</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/Google-Authenticator/">Google Authenticator</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/linux-dhcp-server/">linux dhcp server</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/linux-ftp-server/">linux ftp server</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/linux-lvm/">linux lvm</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/linux-mdadm-raid/">linux mdadm raid</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/linux-raid/">linux raid</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/lvm/">lvm</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/lvm-در-لینوکس/">lvm در لینوکس</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/mdadm-raid/">mdadm raid</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/network-file-system/">network file system</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/nfs-debina/">nfs debina</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/nfs-linux/">nfs linux</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/nfs-در-دبیان/">nfs در دبیان</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/raid-در-لینوکس/">raid در لینوکس</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/samba/">samba</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/samba-server/">samba server</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/samba-server-لینوکس/">samba server لینوکس</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/samba-لینوکس/">samba لینوکس</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/systemctl/">systemctl</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/systemd/">systemd</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/terminal/">terminal</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/tweek-tool/">tweek tool</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/two-factor-Authenticator/">two factor Authenticator</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/two-factor-ssh/">two factor ssh</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/vim/">vim</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/vimrc/">vimrc</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/vimrc-bank/">vimrc bank</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/vsftpd/">vsftpd</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/اوبونتو/">اوبونتو</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/ترمینال/">ترمینال</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/حریم‌شخصی/">حریم‌شخصی</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/سرور/">سرور</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/شبکه/">شبکه</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/شخصی‌سازی/">شخصی‌سازی</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/شخصی‌سازی-گنوم/">شخصی‌سازی گنوم</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/فایل-سیستم-btrfs/">فایل سیستم btrfs</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/پیکربندی/">پیکربندی</a>
                            </li>
                        
                            <li>
                                <a href="/linuxiha/tags/گنوم/">گنوم</a>
                            </li>
                        
                        </ul>
                    </li>
                        

                    
                    <li class="dropdown">
                        <a href="#social" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-share-alt"></i> Socials
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName"><i class="fa fa-twitter"></i> twitter</a>
                            </li>
                            
                            <li>
                                <a href="https://github.com/GitHub_UserName"><i class="fa fa-github"></i> github</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-instagram"></i> instagram</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-google-plus-square"></i> google+</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-facebook-square"></i> facebook</a>
                            </li>
                            
                        </ul>
                    </li>
                    
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>

    <div class="section section-header">
        <div class="parallax filter filter-color-black">
        
            <div class="image"
                style="background-image: url('/linux/static/images/dhcpd-linux.jpg')">
            </div>
        
            <div class="container">
                <div class="content">
                    <div class="title-area">
                        <h1 class="title-modern">آموزش لینوکس</h1>
                        <div class="separator line-separator">♦</div>
                        <h3>راه اندازی DHCP Server در لینوکس</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-paging">
            <a href="#start" class="btn btn-white"><i class="fa fa-angle-down"></i></a>
        </div>
    </div>

    <div class="section" id="start">
        <div class="container">
            <div class="row">
            
            <div class="col-md-10 col-md-offset-1 rtl">
            <div class="post-content">
                <a href="/linuxiha/rmasoumvand/dhcpd/"><h2 class="post-title">راه اندازی DHCP Server در لینوکس</h2></a>
                <div class="post-date"><time datetime="2016-07-26" itemprop="datePublished">سه‌شنبه‌، ۰۵&nbsp;مرداد&nbsp;۱۳۹۵</time></div>
                <div class="post-body">
                    <a name="more"></a>
<p>همان‌طور که می‌دانید، دو کامپیوتر در شبکه برای برقرای ارتباط با یکدیگر نیاز به یک IP آدرس یونیک و   مختص به خود را دارند. به‌طور کلی برای یک هاست در شبکه دو راه برای بدست آوردن این آدرس وجود دارد:</p>

<ol>
<li>تنظیم به‌صورت دستی: که در این روش می‌بایست روی تمامی سیستم‌ها اطلاعات مربوط به IP به‌صورت دستی وارد شود.</li>
<li>دریافت به‌صورت اتوماتیک: با استفاده از پروتکل DHCP که در آن یک سیستم شبکه درخواست دریافت تنظیمات مربوطه به IP را اعلام می‌کند و این درخواست توسط یک سرویس دهنده DHCP در شبکه پاسخ داده می‌شود.</li>
</ol>

<p>توسط پروتکل DHCP شما قادر خواهید بود موارد زیر را روی سیستم‌های شبکه خود به‌صورت خودکار تنظیم نمایید.</p>

<ul>
<li>آدرس IP و Subnet  </li>
<li>آدرس سرویس دهنده دامنه (DNS)  </li>
<li>آدرس دروازه شبکه (Gateway)  </li>
<li>آدرس Wins Server (برای کلاینت های مایکروسافتی)  </li>
<li>و ..</li>
</ul>

<p>در این آموزش به نحوه نصب و راه اندازی سرویس DHCP در لینوکس خواهیم پرداخت.</p>

<p>برای نصب سرویس دهنده DHCP به‌صورت زیر عمل می کنیم.</p>

<p>برای سیستم‌های مبتنی دبیان:</p>

<pre><code>apt-get install dhcp3-server  
</code></pre>

<p>برای سیستم‌های مبتنی بر ردهت:</p>

<pre><code>yum install dhcp  
</code></pre>

<p>به‌صورت پیش‌فرض پیکربندی سرویس دهنده DHCP فاقد تنظیمات لازم برای ارایه سرویس به شبکه هست که می‌بایست با ویرایش فایل <code>etc/dhcp/dhcpd.conf/</code> این سرویس را پیکربندی نمود.</p>

<p>برای تعریف یک Subnet جهت ارایه سرویس در آن می‌بایست مانند مثال زیر تعاریف مربوط را به فایل <code>dhcpd.conf</code> اضافه نمود.</p>

<p>برای مثال:</p>

<p>subnet 10.1.1.0 netmask 255.255.255.0 {   <br />
        range 10.1.1.3 10.1.1.254;   <br />
    }  </p>

<p>که در اینجا ما یک subnet با آدرس شبکه <code>10.10.10.0</code> و mask با آدرس <code>255.255.255.0</code> تعریف نموده‌ایم. همچنین توسط عبارت range می‌توانیم رنج آدرس‌های IP قابل تخصیص توسط سرویس دهنده را مشخص نمایید که در مثال بالا از آدرس <code>10.1.1.3</code> الی <code>10.1.1.254</code> قابل ارایه در این subnet است.</p>

<p>تا اینجا سرویس‌دهنده‌ی ما برای ارائه آدرس IP پیکربندی شده است. ولی سیستم‌های شبکه علاوه بر آدرس IP نیاز به تنظیمات دیگری نظیر آدرس سرویس دهنده DNS و همچنین آدرس Gateway شبکه دارند که برای اضافه نمودن آن‌ها بصورت زیر عمل می‌کنیم.</p>

<pre><code>subnet 10.1.1.0 netmask 255.255.255.0 {    
    range 10.1.1.3 10.1.1.254;    
    option domain-name-servers 10.1.1.1, 8.8.8.8;    
    option routers 10.1.1.1;    
}    
</code></pre>

<p>که در اینجا عبارت <code>option domain-name-servers</code>  آدرس سرویس دهنده DNS را مشخص می‌کند و  عبارت <code>option routers</code> آدرس Gateway شبکه را مشخص می‌کند.</p>

<ul>
<li>‌نکته)‌ آدرس‌های ارائه شده توسط سرویس دهنده به‌صورت leased  می‌باشد و پس از اتمام مدت زمان پیشفرض یا تعریف شده در سرویس دهنده، آن آدرس از سرویس گیرنده گرفته می‌شود و همچنین به‌دلیل ماهیت dynamic پروتکل ممکن است آدرسی که زمانی به هاست شما تخصیص داده شده به هاست دیگری در شبکه تخصیص داده شود.</li>
</ul>

<p>برای تغییر مدت زمان پیشفرض اجاره (lease) می‌توانیم بصورت زیر عمل کنیم.</p>

<pre><code>default-lease-time 600;    
max-lease-time 7200;

subnet 10.1.1.0 netmask 255.255.255.0 {    
    range 10.1.1.3 10.1.1.254;    
}  
</code></pre>

<p>که در اینجا مقدار مقابل عبارت <code>default-lease-time</code> مدت زمان اجاره پیش‌فرض تنظیمات و <code>max-lease-time</code> حداکثر زمان اجاره بر حسب ثانیه را مشخص می‌کند.</p>

<p> شاید شما بخواهید که برای یک هاست خاص در شبکه (برای مثال: پرینتر شبکه ) آدرس IP را رزرو کنید تا همیشه آن آدرس برای هاست مورد نظرتان تخصیص داده شود.</p>

<pre><code>host printer {    
    hardware ethernet 00:16:d3:b7:8f:86;    
    fixed-address 10.1.1.100;    
}  
</code></pre>

<p>که در اینجا  عبارت host نام هاست مورد نظر را مشخص می کند. عبارت <code>hardware ethernet</code> آدرس لایه ۲ یا همان mac Address هاست شما را مشخص می‌کند و در نهایت <code>fixed-address</code> آدرسی است که می‌خواهید برای آن هاست رزرو بشود را مشخص می‌کنیم.</p>

<p> در پایان سرویس دهنده DHCP را یکبار restart می‌کنیم.</p>

<pre><code>/etc/init.d/isc-dhcp-server restart
</code></pre>
                </div>                 
                
                categories: 
                <div class="post-meta">                        <a href="/linuxiha/categories/آموزشی/">آموزشی</a>,                         <a href="/linuxiha/categories/شبکه/">شبکه</a>,                         <a href="/linuxiha/categories/سرور/">سرور</a>                </div>
                                 
                
                tags: 
                <div class="post-meta">                        <a href="/linuxiha/tags/شبکه/">شبکه</a>,                         <a href="/linuxiha/tags/سرور/">سرور</a>,                         <a href="/linuxiha/tags/dhcp/">dhcp</a>,                         <a href="/linuxiha/tags/linux-dhcp-server/">linux dhcp server</a>,                         <a href="/linuxiha/tags/dhcp-لینوکس/">dhcp لینوکس</a>                </div>
                                 
                
                author: 
                <div class="post-meta">                        <a href="/linuxiha/author/rmasoumvand/">rmasoumvand</a>                </div>
                                 
                            </div>
            <div class="separator">✻</div>
            </div>
            

            <div class="col-md-10 col-md-offset-1">
                <nav aria-label="Page navigation">
                    <ul class="pager">
                        
                        <li class="previous"><a href="/linuxiha/rmasoumvand/samba/"><span aria-hidden="true">&larr;</span> راه اندازی سرویس Samba در لینوکس</a></li>
                        
                        
                        <li class="next"><a href="/linuxiha/rmasoumvand/vsftpd/">راه اندازی vsftpd در دبیان <span aria-hidden="true">&rarr;</span></a></li>
                        
                    </ul>
                </nav>
            </div>
            </div>
        </div>
    </div>
  <footer class="footer footer-big footer-color-black" data-color="black">
    <div class="container">
        <div class="row">
            <div class="col-md-2 col-sm-3">
                <div class="info">
                    <h5 class="title">Company</h5>
                    <nav>
                        <ul>
                            <li>
                                <a href="/">Home</a></li>
                            <li>
                                <a href="#">Find offers</a>
                            </li>
                            <li>
                                <a href="#">Discover Projects</a>
                            </li>
                            <li>
                                <a href="#">Portfolio</a>
                            </li>
                            <li>
                                <a href="#">About me</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title"> Help and Support</h5>
                     <nav>
                        <ul>
                            <li>
                                <a href="your-email@domain.com">Contact me</a>
                            </li>
                            <li>
                                <a href="#">How it works</a>
                            </li>
                            <li>
                                <a href="#">Terms &amp; Conditions</a>
                            </li>
                            <li>
                                <a href="#">Policy</a>
                            </li>
                            <li>
                                <a href="#">License</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-sm-3">
                <div class="info">
                    <h5 class="title">Latest posts</h5>
                    <nav>
                        <ul>
                            
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-2 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title">Follow me on</h5>
                    
                    <nav>
                        <ul>
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName" class="btn btn-social btn-twitter btn-simple">
                                    <i class="fa fa-twitter"></i> twitter
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/GitHub_UserName" class="btn btn-social btn-github btn-simple">
                                    <i class="fa fa-github"></i> github
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-instagram btn-simple">
                                    <i class="fa fa-instagram"></i> instagram
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-google-plus-square btn-simple">
                                    <i class="fa fa-google-plus-square"></i> google+
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-facebook-square btn-simple">
                                    <i class="fa fa-facebook-square"></i> facebook
                                </a>
                            </li>                        </ul>
                    </nav>
                    
                </div>
            </div>
        </div>
        <hr>
        <div class="copyright">
             <p>© <script> document.write(new Date().getFullYear()) </script></p>
             <p>generated by <a href="https://miraxy.github.io/">mira</a></p>
        </div>
    </div>
  </footer>


    <script src="/static/theme/maira/js/jquery.min.js"></script>
    <script src="/static/theme/maira/js/modernizr.js"></script>
    <script src="/static/theme/maira/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/run.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/gaia.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/prettify/prettify.js" type="text/javascript"></script>

  </body>
</html>