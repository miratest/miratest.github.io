<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Elevator Stops Problem + Solution - Sallar Kaboli</title>
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/mira.png">

    <!-- Bootstrap -->
    <link href="/static/theme/maira/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/theme/maira/css/maira.css" rel="stylesheet">

    <link href="/static/theme/maira/css/font-awesome.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v10.0.0-beta/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/shabnam-font/v1.1.0/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/sahel-font/v1.0.0-alpha9/dist/font-face.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <nav class="navbar navbar-default navbar-transparent navbar-fixed-top navbar-burger" color-on-scroll="200">
        <!-- if you want to keep the navbar hidden you can add this class to the navbar "navbar-burger"-->
        <div class="container">
            <div class="navbar-header">
                <button id="menu-toggle" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar bar1"></span>
                    <span class="icon-bar bar2"></span>
                    <span class="icon-bar bar3"></span>
                </button>
                <a href="/sallaren" class="navbar-brand">
                    Sallar Kaboli
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right navbar-uppercase">
                    
                    <li class="dropdown ltr">
                        <a href="#date" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            date
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/sallaren/archive/2015/12/">December 2015</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/archive/2016/01/">January 2016</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/archive/2016/04/">April 2016</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/archive/2016/08/">August 2016</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/archive/2016/10/">October 2016</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/archive/2016/11/">November 2016</a>
                            </li>
                        
                        </ul>
                    </li>
                        
                    <li class="dropdown ltr">
                        <a href="#tags" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            tags
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/sallaren/tags/Buttercup/">Buttercup</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/tags/Community/">Community</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/tags/Javascript/">Javascript</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/tags/Programming/">Programming</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/tags/Promise/">Promise</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/tags/Swift/">Swift</a>
                            </li>
                        
                            <li>
                                <a href="/sallaren/tags/Unicode/">Unicode</a>
                            </li>
                        
                        </ul>
                    </li>
                        

                    
                    <li class="dropdown">
                        <a href="#social" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-share-alt"></i> Socials
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName"><i class="fa fa-twitter"></i> twitter</a>
                            </li>
                            
                            <li>
                                <a href="https://github.com/GitHub_UserName"><i class="fa fa-github"></i> github</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-instagram"></i> instagram</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-google-plus-square"></i> google+</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-facebook-square"></i> facebook</a>
                            </li>
                            
                        </ul>
                    </li>
                    
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>

    <div class="section section-header">
        <div class="parallax filter filter-color-black">
        
            <div class="image"
                style="background-image: url('/static/img/head-2.jpg')">
            </div>
        
            <div class="container">
                <div class="content">
                    <div class="title-area">
                        <h1 class="title-modern">Sallar Kaboli</h1>
                        <div class="separator line-separator">♦</div>
                        <h3>Elevator Stops Problem + Solution</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-paging">
            <a href="#start" class="btn btn-white"><i class="fa fa-angle-down"></i></a>
        </div>
    </div>

    <div class="section" id="start">
        <div class="container">
            <div class="row">
            
            <div class="col-md-10 col-md-offset-1 ltr">
            <div class="post-content">
                <a href="/sallaren/2016/10/01/elevator-stops-problem/"><h2 class="post-title">Elevator Stops Problem + Solution</h2></a>
                <div class="post-date"><time datetime="2016-10-01 21:38:00" itemprop="datePublished">، &nbsp;&nbsp;</time></div>
                <div class="post-body">
                    <a name="more"></a>
<p>Recently I went to a technical interview in a big tech company for the front-end engineering role. Regardless of how I feel about their process and how unrelated the test was to the job, I found one of the questions interesting and thought it would be nice if I post my solution here.</p>

<p>Here’s the problem:</p>

<blockquote>
  <p>There is an elevator in a building with <code>M</code> floors. This elevator can take a max of <code>X</code> people at a time or max of total weight <code>Y</code>. Given that a set of people and their weight and the floor they need to stop, how many stops has the elevator taken to serve all the people? Consider the elevator serves in "first come first serve" basis and the order for the queue can not be changed.</p>
  
  <p><strong>Example:</strong></p>
  
  <p>Let Array <code>A</code> be the weight of each person <code>A = [60, 80, 40]</code>.
  Let Array <code>B</code> be the floors where each person needs to be dropped off <code>B = [2, 3, 5]</code>.</p>
  
  <p>The building has 5 floors, maximum of 2 persons are allowed in the elevator at a time with max weight capacity being 200. For this example, the elevator would take total of 5 stops in floors: <strong>2</strong>, <strong>3</strong>, <strong>G</strong>, <strong>5</strong> and finally <strong>G</strong>.</p>
</blockquote>

<p>And here’s my solution:</p>

<pre><code>/**
 * Remove duplicate items from an array
 * @param {Array} arr
 * @returns {Array}
 */
function uniq(arr) {
    return arr.reduce((prev, curr) =&gt; {
        if (prev.indexOf(curr) === -1) {
            prev = prev.concat(curr);
        }
        return prev;
    }, []);
}

/**
 * Solution to our problem
 *
 * @param {Array.&lt;Number&gt;}  A Array of passengers weights
 * @param {Array.&lt;Number&gt;}  B Array of passenger destination floors
 * @param {Number}          M Number of floors in the building
 * @param {Number}          X Elevator max passenger capacity
 * @param {Number}          Y Elevator max weight capacity
 * @returns {Number}        Number of total stops
 */
function solution(A, B, M, X, Y) {
    let trip = 0,
        tripWeight = 0,
        rounds = [];

    for (let i = 0, len = A.length; i &lt; len; i += 1) {
        // If there's an unclosed trip, let’s see if we can get more people in
        if (typeof rounds[trip] !== 'undefined') {
            // Check if we have filled the capacity for the current trip,
            // if so, then close the existing trip and create a new one
            if (rounds[trip].length === X || tripWeight + A[i] &gt; Y) {
                // Increase trip count
                trip++;
                // Reset current weight
                tripWeight = 0;
            }
        }

        // Create an empty array for the current trip
        rounds[trip] = rounds[trip] || [];
        // Push passengers destination to current trip
        rounds[trip].push(B[i]);
        // Increase current load
        tripWeight += A[i];
    }

    // Remove duplicate floors from each trip, since
    // the elevator will make 1 stop for pessengers that
    // go to the same floor. Then add 1 (return to ground floor)
    rounds = rounds.map(round =&gt; uniq(round).length + 1);

    // To get number of total stops, we sum up
    // destination count in each trip.
    return rounds.reduce((prev, curr) =&gt; prev + curr, 0);
}

console.log(
    solution(
        [60, 80, 40],   // Weights
        [2, 3, 5],      // Destinations
        5,              // Floors
        2,              // Max passengers
        200             // Max weight
    )
); // -&gt; 5
</code></pre>

<p>After I successfully submitted the solution, I searched Google to see if this question has been asked before, turns out it’s a common problem that is asked in programming tests and many people have solved it (<a href="http://codereview.stackexchange.com/questions/111673/program-to-determine-total-stops-taken-by-elevator">for example this one</a>).</p>

<p>I hope this solution comes in handy for anybody who's willing to cheat a programming test. Hope you don’t though :-)</p>
                </div>                 
                
                tags: 
                <div class="post-meta">                        <a href="/sallaren/tags/Programming/">Programming</a>                </div>
                                 
                            </div>
            <div class="separator">✻</div>
            </div>
            

            <div class="col-md-10 col-md-offset-1">
                <nav aria-label="Page navigation">
                    <ul class="pager">
                        
                        <li class="previous"><a href="/sallaren/2016/11/20/refactoring-buttercup/"><span aria-hidden="true">&larr;</span> Refactoring Buttercup with React/Redux</a></li>
                        
                        
                        <li class="next"><a href="/sallaren/2016/08/16/javascripts-unicode-problem/">Javascript’s Unicode Problem <span aria-hidden="true">&rarr;</span></a></li>
                        
                    </ul>
                </nav>
            </div>
            </div>
        </div>
    </div>
  <footer class="footer footer-big footer-color-black" data-color="black">
    <div class="container">
        <div class="row">
            <div class="col-md-2 col-sm-3">
                <div class="info">
                    <h5 class="title">Company</h5>
                    <nav>
                        <ul>
                            <li>
                                <a href="/">Home</a></li>
                            <li>
                                <a href="#">Find offers</a>
                            </li>
                            <li>
                                <a href="#">Discover Projects</a>
                            </li>
                            <li>
                                <a href="#">Portfolio</a>
                            </li>
                            <li>
                                <a href="#">About me</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title"> Help and Support</h5>
                     <nav>
                        <ul>
                            <li>
                                <a href="your-email@domain.com">Contact me</a>
                            </li>
                            <li>
                                <a href="#">How it works</a>
                            </li>
                            <li>
                                <a href="#">Terms &amp; Conditions</a>
                            </li>
                            <li>
                                <a href="#">Policy</a>
                            </li>
                            <li>
                                <a href="#">License</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-sm-3">
                <div class="info">
                    <h5 class="title">Latest posts</h5>
                    <nav>
                        <ul>
                            
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-2 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title">Follow me on</h5>
                    
                    <nav>
                        <ul>
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName" class="btn btn-social btn-twitter btn-simple">
                                    <i class="fa fa-twitter"></i> twitter
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/GitHub_UserName" class="btn btn-social btn-github btn-simple">
                                    <i class="fa fa-github"></i> github
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-instagram btn-simple">
                                    <i class="fa fa-instagram"></i> instagram
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-google-plus-square btn-simple">
                                    <i class="fa fa-google-plus-square"></i> google+
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-facebook-square btn-simple">
                                    <i class="fa fa-facebook-square"></i> facebook
                                </a>
                            </li>                        </ul>
                    </nav>
                    
                </div>
            </div>
        </div>
        <hr>
        <div class="copyright">
             <p>© <script> document.write(new Date().getFullYear()) </script></p>
             <p>generated by <a href="https://miraxy.github.io/">mira</a></p>
        </div>
    </div>
  </footer>


    <script src="/static/theme/maira/js/jquery.min.js"></script>
    <script src="/static/theme/maira/js/modernizr.js"></script>
    <script src="/static/theme/maira/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/run.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/gaia.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/prettify/prettify.js" type="text/javascript"></script>

  </body>
</html>