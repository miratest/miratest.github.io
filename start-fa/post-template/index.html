<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>post template - شروع</title>
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/mira.png">

    <!-- Bootstrap -->
    <link href="/static/theme/maira/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/theme/maira/css/maira.css" rel="stylesheet">

    <link href="/static/theme/maira/css/font-awesome.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v10.0.0-beta/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/shabnam-font/v1.1.0/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/sahel-font/v1.0.0-alpha9/dist/font-face.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <nav class="navbar navbar-default navbar-transparent navbar-fixed-top navbar-burger" color-on-scroll="200">
        <!-- if you want to keep the navbar hidden you can add this class to the navbar "navbar-burger"-->
        <div class="container">
            <div class="navbar-header">
                <button id="menu-toggle" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar bar1"></span>
                    <span class="icon-bar bar2"></span>
                    <span class="icon-bar bar3"></span>
                </button>
                <a href="/start-fa" class="navbar-brand">
                    شروع
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right navbar-uppercase">
                    
                    <li class="dropdown rtl">
                        <a href="#chapter" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            chapter
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/start-fa/chapter/start/">01</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/conditions/">02</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/fields/">03</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/config/">04</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/content/">05</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/statics/">06</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/template/">07</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/customize/">08</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/publish/">09</a>
                            </li>
                        
                        </ul>
                    </li>
                        

                    
                    <li class="dropdown">
                        <a href="#social" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-share-alt"></i> Socials
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName"><i class="fa fa-twitter"></i> twitter</a>
                            </li>
                            
                            <li>
                                <a href="https://github.com/GitHub_UserName"><i class="fa fa-github"></i> github</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-instagram"></i> instagram</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-google-plus-square"></i> google+</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-facebook-square"></i> facebook</a>
                            </li>
                            
                        </ul>
                    </li>
                    
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>

    <div class="section section-header">
        <div class="parallax filter filter-color-black">
        
            <div class="image"
                style="background-image: url('/static/img/head-2.jpg')">
            </div>
        
            <div class="container">
                <div class="content">
                    <div class="title-area">
                        <h1 class="title-modern">شروع</h1>
                        <div class="separator line-separator">♦</div>
                        <h3>post template</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-paging">
            <a href="#start" class="btn btn-white"><i class="fa fa-angle-down"></i></a>
        </div>
    </div>

    <div class="section" id="start">
        <div class="container">
            <div class="row">
            
            <div class="col-md-10 col-md-offset-1 rtl">
            <div class="post-content">
                <a href="/start-fa/post-template/"><h2 class="post-title">post template</h2></a>
                <div class="post-date"><time datetime="2017-03-28 19:14:35" itemprop="datePublished">، &nbsp;&nbsp;</time></div>
                <div class="post-body">
                    <a name="more"></a>
<p>فایل post.tt2 برای ساختن قالب تکی پست‌ها و نوشته در آدرسی است که در فیلد permalink در تنظیمات سایت مشخص کرده‌ایم استفاده می‌شود.</p>

<p>در این مثال، آدرس‌های زیر با استفاده از این قالب ساخته می‌شوند:</p>

<pre><code>address.com/blog/category/year/month/day/post_title.html
address.com/en/year/month/day/post_title/
address.com/linux/author/post_title/
address.com/story/category/post_title/
</code></pre>

<p>اگر به قالب‌های index و archive یک بار دیگر نگاه بیندازید میبینید که پست ها را با استفاده از یک حلقه {{ FOREACH post IN POSTS }} لود کردیم، در مورد post اما استفاده از این حلقه اجباری نیست، یعنی اگر از آن استفاده نکنیم باز هم <strong>post</strong> مقدار معتبری دارد.</p>

<p>هر دو کد زیر برای استفاده در post معتبر هستند:
    <td>
    {{ Foreach post IN POSTS }}
        {{ post.title }}
    {{ END }}
    </td></p>

<pre><code>&lt;td&gt;
    {{ post.title }}
&lt;/td&gt;
</code></pre>

<p>در post.tt2 استفاده از حلقه POSTS زمانی مفید است که بخواهید با متغیر دیگری به جز post مقادیر را فراخوانی کنید، مثلا:</p>

<pre><code>&lt;td&gt;
{{ Foreach entry IN POSTS }}
    {{ entry.title }}
{{ END }}
&lt;/td&gt;
</code></pre>

<p>به جز این مورد تقریبا تمام برچسب‌های دیگر بین archive، post و index شبیه به هم هستند و معتبر. پس میتوانیم عینا از قالب index برای post هم استفاده کنیم، اما عملا این کار برای قالبی که در حال ساخت آن هستیم مفید نیست، چرا که در قالب index خلاصه نوشته ها را برای نمایش در نظر گرفتیم و نه متن کامل یا در index و archive جزییات زیادی از هر پست را لود نکردیم، مثلا در سایت آموزش لینوکس هر نوشته نام نویسنده‌ی متفاوتی داشت، یا دسته بندی‌هایی که انجام داد بودیم، مثل tag ها در وبلاگ ها یا keywordها در داستان و عکس اختصاصی که برای نوشته‌های وبلاگ فارسی و آموزش لینوکس داشتیم و category ها. البته تمام این موارد را میشود در قالب‌های index یا archive هم نمایش داد، اما برای ساده بودن قالب از آن‌ها چشم پوشی شده.</p>

<p>اما نحوه‌ی اضافه کردن، تمام مشخصات هر نوشته که در هدر به آن نسبت داده شده مثل تاریخ، category، tag و ... در حلقه POSTS قابل بازیابی است، مثلا {{ post.category }}، البته برای لود کردن مقادیر گروهی یا آرشیوها باید از یک حلقه‌ها جدید داخل حلقه قبلی استفاده کنیم:</p>

<pre><code>{{ FOREACH kw IN post.keywords }}
    {{ kw }}
{{ END }}
</code></pre>

<p>و اگر مقداری که فراخوانی میکنیم را قبلا آرشیو کرده باشیم، یعنی مقدارش را در فایل تنظیمات به فیلد lists وارد کرده باشیم:</p>

<pre><code>{{ FOREACH tag IN post.tags.values }}
    &lt;a href="{{ tag.url }}"&gt;{{ tag.name }}&lt;/a&gt;
{{ END }}
</code></pre>

<p>از آنجا که برای تمام سایت‌ها میخواهیم از یک قالب استفاده کنیم و لیست‌های آرشیو و فیلدهای سربرگ که برای هرکدام در نظر گرفتیم با دیگران متفاوت است، از عبارت شرطی {{ IF }} برای تست اینکه آیا فیلد مورد نظر در این پست وجود دارد یا نه کمک میگیریم، مثلا پست‌های وبلاگ داستان فیلد tags را در سربرگ نداشتند.</p>

<pre><code>{{ IF tags }}
{{ FOREACH tag IN post.tags.values }}
    &lt;a href="{{ tag.url }}"&gt;{{ tag.name }}&lt;/a&gt;
{{ END }}
{{ END }}
</code></pre>

<p>یک بار دیگر به جزییات سربرگ‌هایی که داشتیم برگردیم، تمام فیلدهایی که برای هر چهار سایت در نظر گرفته بودیم، این فیلدها بودند:</p>

<pre><code>image
description
author
category
tags
categories
keywords
suggests
</code></pre>

<p>که به جز keywords و suggests، در story و image در آموزش لینوکس و وبلاگ فارسی، مابقی را به عنوان لیست آرشیو برای سایت‌هایشان هم در نظر گرفته بودیم. با توجه به تمام توضیحاتی که دادیم قالب post را به این صورت می‌سازیم، کدهای زیر را در post.tt2 کپی کنید:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="description" content="{{ DESCRIPTION }}"&gt;
    &lt;meta name="author" content="{{ MainAUTHOR }}"&gt;
    &lt;link rel="shortcut icon" href="{{ MAIN.author_image }}"&gt;
    &lt;title&gt;{{ PageTITLE }}&lt;/title&gt;
    &lt;style&gt;
    img {
    max-width: 100% !important;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;body&gt;
    &lt;center&gt;
    &lt;img src="{{ SITE.author_image }}"&gt;
    &lt;h1&gt;{{ TITLE }}&lt;/h1&gt;
    &lt;h2&gt;{{ DESCRIPTION }}&lt;/h2&gt;
    &lt;/center&gt;
    &lt;hr&gt;
    &lt;table&gt;
    &lt;tr&gt;
&lt;!-- Content --&gt;
    &lt;td width="70%"&gt;
    {{ FOREACH post IN POSTS }}
      &lt;h2&gt;&lt;a href="{{ post.url }}"&gt;{{ post.title }}&lt;/a&gt;&lt;/h2&gt;
      &lt;h5&gt;{{ post.CALENDAR.jday_name }} {{ post.CALENDAR.jday }} {{ post.CALENDAR.jmonth_name }} {{ post.CALENDAR.jyear }}&lt;/h5&gt;
      &lt;h5&gt;{{ post.CALENDAR.day_name }} {{ post.CALENDAR.day }} {{ post.CALENDAR.month_name }} {{ post.CALENDAR.year }}&lt;/h5&gt;
      {{ IF post.description }}description: {{ post.description }}{{ END }}&lt;br&gt;
      {{ IF post.image }}&lt;img src="{{ post.image }}"&gt;{{ END }}
      {{ IF post.author }}
      author: {{ FOREACH author IN post.author.values }}&lt;a href="{{ author.url }}"&gt;{{ author.name }}&lt;/a&gt;{{ END }}&lt;br&gt;
      {{ END }}
      &lt;p&gt;{{ post.body.more }}&lt;/p&gt;
      {{ IF post.category }}
      category: {{ FOREACH cat IN post.category.values }}&lt;a href="{{ cat.url }}"&gt;{{ cat.name }}&lt;/a&gt;{{ END }}&lt;br&gt;
      {{ END }}
      {{ IF post.tags }}
      tags: {{ FOREACH tag IN post.tags.values }}&lt;a href="{{ tag.url }}"&gt;{{ tag.name }}&lt;/a&gt;/{{ END }}&lt;br&gt;
      {{ END }}
      {{ IF post.categories }}
      categories: {{ FOREACH cat IN post.categories.values }}&lt;a href="{{ cat.url }}"&gt;{{ cat.name }}&lt;/a&gt;/{{ END }}&lt;br&gt;
      {{ END }}
      {{ IF post.keywords }}
      keywords: {{ FOREACH kw IN post.keywords }}{{ kw }}/{{ END }}&lt;br&gt;
      {{ END }}
      &lt;hr&gt;
    {{ END }}
    &lt;/td&gt;
&lt;!-- sidebar --&gt;
    &lt;td width="30%"&gt;
    &lt;/td&gt;
    &lt;/tr&gt;
&lt;!-- pagination --&gt;
    &lt;tr&gt;
      &lt;td width="30%"&gt;
      {{ IF PAGE.prev }}
        &lt;a href="{{ PAGE.prev.url }}"&gt;prev: {{ PAGE.prev.title }}&lt;/a&gt;
      {{- END }}
        |
      {{ IF PAGE.next }}
            &lt;a href="{{ PAGE.next.url }}"&gt;next: {{ PAGE.next.title }}&lt;/a&gt;
      {{- END }}
      &lt;/td&gt;
    &lt;/tr&gt;   
    &lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><strong>نکته</strong>: <br />
پیش از این در قسمت تنظیمات گفته شد که هر فیلدی که در تنظیمات اختصاصی سایت نباشد، مقدارش برابر با مقداری است که در فایل تنظیمات عمومی وجود دارد، اگر به یاد داشته باشید برای همین هم در تنظیم سایت دنباله دار، فیلد لیست را به صورت خالی وارد کردیم.</p>

<p>حالا خطوط ۷ و ۱۷ قالب post را ببینید، در تنظیمات هیچ‌کدام از سایت‌ها فیلدی به نام author_image وجود نداشت این فیلد را تنها در تنظیمات عمومی نوشته بودیم، اما در خط ۱۷ به جای MAIN که متعلق به تنظیمات عمومی است، با SITE که برای تنظیمات سایت‌هاست، آن را لود کرده‌ایم و مقدار معتبری بر میگرداند. <br />
البته استفاده از این تگ منطقی نیست و فقط برای مثال و درک بهتر کارکرد فیلدها در تنظیمات به این صورت نوشته شده.</p>
                </div>                                 
                
                chapter: 
                <div class="post-meta">                        <a href="/start-fa/chapter/template/">07</a>                </div>
                            </div>
            <div class="separator">✻</div>
            </div>
            

            <div class="col-md-10 col-md-offset-1">
                <nav aria-label="Page navigation">
                    <ul class="pager">
                        
                        <li class="previous"><a href="/start-fa/archive-template/"><span aria-hidden="true">&larr;</span> archive template</a></li>
                        
                        
                        <li class="next"><a href="/start-fa/feed-template/">feed template <span aria-hidden="true">&rarr;</span></a></li>
                        
                    </ul>
                </nav>
            </div>
            </div>
        </div>
    </div>
  <footer class="footer footer-big footer-color-black" data-color="black">
    <div class="container">
        <div class="row">
            <div class="col-md-2 col-sm-3">
                <div class="info">
                    <h5 class="title">Company</h5>
                    <nav>
                        <ul>
                            <li>
                                <a href="/">Home</a></li>
                            <li>
                                <a href="#">Find offers</a>
                            </li>
                            <li>
                                <a href="#">Discover Projects</a>
                            </li>
                            <li>
                                <a href="#">Portfolio</a>
                            </li>
                            <li>
                                <a href="#">About me</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title"> Help and Support</h5>
                     <nav>
                        <ul>
                            <li>
                                <a href="your-email@domain.com">Contact me</a>
                            </li>
                            <li>
                                <a href="#">How it works</a>
                            </li>
                            <li>
                                <a href="#">Terms &amp; Conditions</a>
                            </li>
                            <li>
                                <a href="#">Policy</a>
                            </li>
                            <li>
                                <a href="#">License</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-sm-3">
                <div class="info">
                    <h5 class="title">Latest posts</h5>
                    <nav>
                        <ul>
                            
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-2 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title">Follow me on</h5>
                    
                    <nav>
                        <ul>
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName" class="btn btn-social btn-twitter btn-simple">
                                    <i class="fa fa-twitter"></i> twitter
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/GitHub_UserName" class="btn btn-social btn-github btn-simple">
                                    <i class="fa fa-github"></i> github
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-instagram btn-simple">
                                    <i class="fa fa-instagram"></i> instagram
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-google-plus-square btn-simple">
                                    <i class="fa fa-google-plus-square"></i> google+
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-facebook-square btn-simple">
                                    <i class="fa fa-facebook-square"></i> facebook
                                </a>
                            </li>                        </ul>
                    </nav>
                    
                </div>
            </div>
        </div>
        <hr>
        <div class="copyright">
             <p>© <script> document.write(new Date().getFullYear()) </script></p>
             <p>generated by <a href="https://miraxy.github.io/">mira</a></p>
        </div>
    </div>
  </footer>


    <script src="/static/theme/maira/js/jquery.min.js"></script>
    <script src="/static/theme/maira/js/modernizr.js"></script>
    <script src="/static/theme/maira/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/run.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/gaia.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/prettify/prettify.js" type="text/javascript"></script>

  </body>
</html>