<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>ساختن یک ساید بار - شروع</title>
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/mira.png">

    <!-- Bootstrap -->
    <link href="/static/theme/maira/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/theme/maira/css/maira.css" rel="stylesheet">

    <link href="/static/theme/maira/css/font-awesome.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v10.0.0-beta/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/shabnam-font/v1.1.0/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/sahel-font/v1.0.0-alpha9/dist/font-face.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <nav class="navbar navbar-default navbar-transparent navbar-fixed-top navbar-burger" color-on-scroll="200">
        <!-- if you want to keep the navbar hidden you can add this class to the navbar "navbar-burger"-->
        <div class="container">
            <div class="navbar-header">
                <button id="menu-toggle" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar bar1"></span>
                    <span class="icon-bar bar2"></span>
                    <span class="icon-bar bar3"></span>
                </button>
                <a href="/start-fa" class="navbar-brand">
                    شروع
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right navbar-uppercase">
                    
                    <li class="dropdown rtl">
                        <a href="#chapter" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-angle-down"></i>
                            chapter
                            
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                        
                            <li>
                                <a href="/start-fa/chapter/start/">01</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/conditions/">02</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/fields/">03</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/config/">04</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/content/">05</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/statics/">06</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/template/">07</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/customize/">08</a>
                            </li>
                        
                            <li>
                                <a href="/start-fa/chapter/publish/">09</a>
                            </li>
                        
                        </ul>
                    </li>
                        

                    
                    <li class="dropdown">
                        <a href="#social" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-share-alt"></i> Socials
                        </a>
                        <ul class="dropdown-menu dropdown-danger">
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName"><i class="fa fa-twitter"></i> twitter</a>
                            </li>
                            
                            <li>
                                <a href="https://github.com/GitHub_UserName"><i class="fa fa-github"></i> github</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-instagram"></i> instagram</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-google-plus-square"></i> google+</a>
                            </li>
                            
                            <li>
                                <a href="https://instagram.com/NAME"><i class="fa fa-facebook-square"></i> facebook</a>
                            </li>
                            
                        </ul>
                    </li>
                    
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>

    <div class="section section-header">
        <div class="parallax filter filter-color-black">
        
            <div class="image"
                style="background-image: url('/static/img/head-2.jpg')">
            </div>
        
            <div class="container">
                <div class="content">
                    <div class="title-area">
                        <h1 class="title-modern">شروع</h1>
                        <div class="separator line-separator">♦</div>
                        <h3>ساختن یک ساید بار</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-paging">
            <a href="#start" class="btn btn-white"><i class="fa fa-angle-down"></i></a>
        </div>
    </div>

    <div class="section" id="start">
        <div class="container">
            <div class="row">
            
            <div class="col-md-10 col-md-offset-1 rtl">
            <div class="post-content">
                <a href="/start-fa/sidebar/"><h2 class="post-title">ساختن یک ساید بار</h2></a>
                <div class="post-date"><time datetime="2017-03-28 19:28:03" itemprop="datePublished">، &nbsp;&nbsp;</time></div>
                <div class="post-body">
                    <a name="more"></a>
<p>حالا وقت آن رسیده که با ساختن یک ساید بار آرشیوهایی که برای هر سایت را داشتیم را هم به نمایش درآوریم، برای این کار قبلا در میانه‌های قالب‌های index، archive و post یک قسمت را آماده گذشاته بودیم:</p>

<pre><code>&lt;!-- sidebar --&gt;
&lt;td width="30%"&gt;
&lt;/td&gt;
</code></pre>

<p>حالا زمان آن را رسیده که آن را تکمیل کنیم. برای نمایش لیست‌های آرشیو دو راه حل داریم، یکی به شکل کلی تمام آرشیوهای موجود را لود کنیم، مانند کاری که در انتهای قالب atom کرده بودیم، و یکی هم مثل قالب post، روشی که به ما امکان میدهد هر لیست را جدا و در جایی که میخواهیم نمایش دهیم.</p>

<h4>روش اول، لود کردن همه چیز:</h4>

<pre><code>{{ FOREACH archive IN ARCHIVES.pairs }}
  &lt;h5&gt;{{ archive.key }}&lt;/h5&gt;&lt;!-- archive name, like tags or dates ... --&gt;
  &lt;hr&gt;
  {{ FOREACH item IN archive.value.values.sort('name').sort('number') }}
    &lt;a href="{{ item.url }}"&gt;{{ item.name }}&lt;/a&gt;
    {{ IF (archive.key == 'categories') }}&lt;br&gt;{{ END }}
    {{ IF (archive.key == 'date') or (archive.key == 'jdate') }}&lt;br&gt;{{ END }}
    {{ IF (archive.key == 'author') }}&lt;br&gt;{{ END }}
    {{ IF (loop.index != loop.max) and (archive.key == 'tags') }}&amp;nbsp;-&amp;nbsp;{{ END }}
    {{ IF (archive.key == 'category') }}
    &lt;br&gt;
    {{ FOREACH utid IN item.posts }}
        &amp;nbsp;&amp;nbsp;-&amp;nbsp;&lt;a href="{{ ENTRIES.$utid.url }}"&gt;{{ ENTRIES.$utid.title }}&lt;/a&gt;&lt;br&gt;
    {{ END }}
    {{ END }}
  {{- END }}
  &lt;br&gt;
{{- END }}
</code></pre>

<p><strong>توضیح:</strong></p>

<p>ابتدا یک جفت کلید-مقدار از آرشیوها را در متغیری به نام archive لود کردیم archive IN ARCHIVES.pairs، کلید با نام key حاوی نام آرشیو است، مثل category یا tag یا هر چیز دیگری {{ archive.key }}.</p>

<p>مقدار یا value حاوی یک لیست از اطلاعات مربوط به آن آرشیو است archive.value، که این لیست شامل این اطلاعات است: نام، آدرس لینک هر آرشیو، و utid پست‌هایی که در این آرشیو هستند. مثل همیشه، برای نمایش دادن لیست‌ها از FOREACH استفاده می‌کینم.</p>

<pre><code>{{ FOREACH item IN archive.value.values.sort('name').sort('number') }}
</code></pre>

<p>و البته با استفاده از sort، ترتیب نمایش را هم مشخص کردیم که بر اساس نام باشد و اگر نام‌های مشابه پیدا کرد، اولویت با تعداد پست‌های موجود در هرکدام باشد.</p>

<p>بعد هم با استفاده از شرط‌ها، جداکننده‌های هر آرشیو را مشخص کردیم. مثلا برای آرشیوهای زمانی، نام هر ماه در یک خط جدید باشد، یا برای نمایش تگ‌ها همه پشت سر هم و با جداکننده‌ی - باشند.</p>

<p><strong>خطوط ۱۰ تا ۱۵</strong>: گفتیم که مقدار هر آرشیو لیستی است که utid پست‌هایی که در آن دسته بندی هستند را هم در خود دارد، بین این خطوط مشخص کردیم تیتر و لینک تمام نوشته‌هایی که در دسته بندی هستند، زیر نام آن دسته بندی نمایش داده شوند.با استفاده از ENTRIES.$utid تمام کارهایی که برای نمایش پست ها با POSTS انجام میدادیم را میتوان انجام داد، مثلا خلاصه‌ی متن را لود کرد:</p>

<pre><code>ENTRIES.$utid.body.less
</code></pre>

<h4>روش دوم، نمایش دادن با ترتیب دلخواه</h4>

<p>روش بالا روش خوبی است، مخصوصا برای زمانی که میخواهیم از یک قالب به شکل مشترک استفاده کنیم اما قدرت کنترل و انعطاف کمی دارد، مثلا شاید بخواهیم در یک سایت آرشیو زمانی در ابتدای ستون کناری باشد و در یک سایت در انتها. در این روش میتوانیم هر آرشیو را هرکجا که بخواهیم لود کنیم. کافی است حلقه‌ای با نام آرشیو و پسوند آرشیو با حروف بزرگ را لود کنیم:</p>

<pre><code>{{ IF CATEGORIES_ARCHIVE }}
&lt;h3&gt;categories archive&lt;/h3&gt;
{{ FOREACH cat IN CATEGORIES_ARCHIVE }}
  &lt;a href="{{ cat.url }}"&gt;{{ cat.name }}&lt;/a&gt; - &lt;small&gt;{{ cat.posts.size }}&lt;/small&gt;&lt;br&gt;
{{ END }}
{{ END }}
&lt;hr&gt;
</code></pre>

<p><strong>نکته‌</strong>: همانطور که در مثال قبل هم گفتیم، لیست‌های آرشیو علاوه بر نام و آدرس، پست‌هایی که در دسته بندیشان قرار میگیرد را هم در خود دارند، در مثال قبل با استفاده از posts مقدار utid ها را به دست آوردیم و در ENTRIES لود کردیم، اینجا فقط تعدادشان را گرفتیم و مشخص کردیم در هر دسته بندی چه تعداد نوشته داریم. {{ cat.posts.size }}</p>

<p>برای نمایش کامل تمام آرشیوها در این مثال باید از کد زیر استفاده کرد، در این مثال هم در قسمت category تمام پست ها را با استفاده از utid نمایش می‌دهیم:</p>

<pre><code>{{ IF CATEGORIES_ARCHIVE }}
&lt;h3&gt;categories archive&lt;/h3&gt;
{{ FOREACH cat IN CATEGORIES_ARCHIVE }}
   &lt;a href="{{ cat.url }}"&gt;{{ cat.name }}&lt;/a&gt; - &lt;small&gt;{{ cat.posts.size }}&lt;/small&gt;&lt;br&gt;
{{ END }}&lt;hr&gt;
{{ END }}

{{ IF CATEGORY_ARCHIVE }}
&lt;h3&gt;category archive&lt;/h3&gt;
{{ FOREACH cat IN CATEGORY_ARCHIVE }}
  &lt;a href="{{ cat.url }}"&gt;{{ cat.name }}&lt;/a&gt; - &lt;small&gt;{{ cat.posts.size }}&lt;/small&gt;&lt;br&gt;
    &lt;br&gt;
    {{ FOREACH utid IN cat.posts }}
        &amp;nbsp;&amp;nbsp;-&amp;nbsp;&lt;a href="{{ ENTRIES.$utid.url }}"&gt;{{ ENTRIES.$utid.title }}&lt;/a&gt;&lt;br&gt;
    {{ END }}
{{ END }}
&lt;hr&gt;
{{ END }}

{{ IF TAGS_ARCHIVE }}
&lt;h3&gt;categories archive&lt;/h3&gt;
{{ FOREACH tag IN TAGS_ARCHIVE }}
  &lt;a href="{{ tag.url }}"&gt;{{ tag.name }}&lt;/a&gt; - &lt;small&gt;{{ tag.posts.size }}&lt;/small&gt;&lt;br&gt;
{{ END }}
&lt;hr&gt;
{{ END }}

{{ IF AUTHOR_ARCHIVE }}
&lt;h3&gt;author archive&lt;/h3&gt;
{{ FOREACH author IN AUTHOR_ARCHIVE }}
  &lt;a href="{{ author.url }}"&gt;{{ author.name }}&lt;/a&gt; - &lt;small&gt;{{ author.posts.size }}&lt;/small&gt;&lt;br&gt;
{{ END }}
&lt;hr&gt;
{{ END }}

{{ IF DATE_ARCHIVE }}
&lt;h3&gt;date archive&lt;/h3&gt;
{{ FOREACH date IN DATE_ARCHIVE }}
  &lt;a href="{{ date.url }}"&gt;{{ date.name }}&lt;/a&gt; - &lt;small&gt;{{ date.posts.size }}&lt;/small&gt;&lt;br&gt;
{{ END }}
&lt;hr&gt;
{{ END }}

{{ IF JDATE_ARCHIVE }}
&lt;h3&gt;jalali archive&lt;/h3&gt;
{{ FOREACH date IN JDATE_ARCHIVE }}
  &lt;a href="{{ date.url }}"&gt;{{ date.name }}&lt;/a&gt; - &lt;small&gt;{{ date.posts.size }}&lt;/small&gt;&lt;br&gt;
{{ END }}
&lt;hr&gt;
{{ END }}
</code></pre>

<p>یکی از دو روش بالا را انتخاب کنید، سپس کدهای نوشته شده را در قالب‌های post, index و archive کپی کنید</p>

<pre><code>&lt;!-- sidebar --&gt;
&lt;td width="30%"&gt;
   &gt;&gt;&gt; اینجا کپی کنید
&lt;/td&gt;
</code></pre>

<p>در فایل‌های مثال که برای دانلود کردن آماده شده از روش اول در قالب archive و روش دوم برای index و post استفاده شده.</p>
                </div>                                 
                
                chapter: 
                <div class="post-meta">                        <a href="/start-fa/chapter/template/">07</a>                </div>
                            </div>
            <div class="separator">✻</div>
            </div>
            

            <div class="col-md-10 col-md-offset-1">
                <nav aria-label="Page navigation">
                    <ul class="pager">
                        
                        <li class="previous"><a href="/start-fa/feed-template/"><span aria-hidden="true">&larr;</span> feed template</a></li>
                        
                        
                        <li class="next"><a href="/start-fa/post-subjoin/">تکمیل کردن قالب post <span aria-hidden="true">&rarr;</span></a></li>
                        
                    </ul>
                </nav>
            </div>
            </div>
        </div>
    </div>
  <footer class="footer footer-big footer-color-black" data-color="black">
    <div class="container">
        <div class="row">
            <div class="col-md-2 col-sm-3">
                <div class="info">
                    <h5 class="title">Company</h5>
                    <nav>
                        <ul>
                            <li>
                                <a href="/">Home</a></li>
                            <li>
                                <a href="#">Find offers</a>
                            </li>
                            <li>
                                <a href="#">Discover Projects</a>
                            </li>
                            <li>
                                <a href="#">Portfolio</a>
                            </li>
                            <li>
                                <a href="#">About me</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title"> Help and Support</h5>
                     <nav>
                        <ul>
                            <li>
                                <a href="your-email@domain.com">Contact me</a>
                            </li>
                            <li>
                                <a href="#">How it works</a>
                            </li>
                            <li>
                                <a href="#">Terms &amp; Conditions</a>
                            </li>
                            <li>
                                <a href="#">Policy</a>
                            </li>
                            <li>
                                <a href="#">License</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-3 col-sm-3">
                <div class="info">
                    <h5 class="title">Latest posts</h5>
                    <nav>
                        <ul>
                            
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-2 col-md-offset-1 col-sm-3">
                <div class="info">
                    <h5 class="title">Follow me on</h5>
                    
                    <nav>
                        <ul>
                            
                            <li>
                                <a href="https://twitter.com/Twitter_UserName" class="btn btn-social btn-twitter btn-simple">
                                    <i class="fa fa-twitter"></i> twitter
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/GitHub_UserName" class="btn btn-social btn-github btn-simple">
                                    <i class="fa fa-github"></i> github
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-instagram btn-simple">
                                    <i class="fa fa-instagram"></i> instagram
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-google-plus-square btn-simple">
                                    <i class="fa fa-google-plus-square"></i> google+
                                </a>
                            </li>
                            <li>
                                <a href="https://instagram.com/NAME" class="btn btn-social btn-facebook-square btn-simple">
                                    <i class="fa fa-facebook-square"></i> facebook
                                </a>
                            </li>                        </ul>
                    </nav>
                    
                </div>
            </div>
        </div>
        <hr>
        <div class="copyright">
             <p>© <script> document.write(new Date().getFullYear()) </script></p>
             <p>generated by <a href="https://miraxy.github.io/">mira</a></p>
        </div>
    </div>
  </footer>


    <script src="/static/theme/maira/js/jquery.min.js"></script>
    <script src="/static/theme/maira/js/modernizr.js"></script>
    <script src="/static/theme/maira/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/run.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/gaia.js" type="text/javascript"></script>
    <script src="/static/theme/maira/js/prettify/prettify.js" type="text/javascript"></script>

  </body>
</html>